ì¤„ì—†ëƒ¥ - ìº í¼ìŠ¤ ì‹¤ì‹œê°„ í˜¼ì¡ë„ ë° ëŒ€ê¸° ê´€ë¦¬ ì›¹ì•± (Replit í”„ë¡œí† íƒ€ì…)
í”„ë¡œì íŠ¸ ê°œìš”
ëŒ€í•™êµ êµë‚´ ì‹œì„¤(ì‹ë‹¹, ë„ì„œê´€, í—¬ìŠ¤ì¥ ë“±)ì˜ ì‹¤ì‹œê°„ í˜¼ì¡ë„ë¥¼ ì‹œê°ì ìœ¼ë¡œ í‘œì‹œí•˜ê³ , GPS ê¸°ë°˜ í˜„ì¥ ì¸ì¦ì„ í†µí•œ ëŒ€ê¸° ë“±ë¡ ì‹œìŠ¤í…œì„ ì œê³µí•˜ëŠ” ëª¨ë°”ì¼ ìµœì í™” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.
í•µì‹¬ ê°€ì¹˜

"ìˆ˜ì—… ì‚¬ì´ ë¹ˆ ì‹œê°„ì— ë§ì¶°, ì¤„ ì•ˆ ì„œê³  ë°¥ ë¨¹ì"

ê¸°ìˆ  ìŠ¤íƒ

Frontend: React 18 + Vite
Styling: Tailwind CSS
UI Components: shadcn/ui
Icons: Lucide React
Charts: Recharts
State Management: React hooks + Context API
Backend: Express.js + WebSocket
Database: SQLite (lightweight, file-based)
Cache: node-cache (in-memory)
Location: Geolocation API
Notifications: Web Push API


êµ¬í˜„ ë²”ìœ„ (Replit í™˜ê²½)
âœ… ì™„ì „íˆ êµ¬í˜„ë˜ëŠ” ê¸°ëŠ¥

ì „ì²´ UI/UX: ëª¨ë“  í™”ë©´, ì»´í¬ë„ŒíŠ¸, ì• ë‹ˆë©”ì´ì…˜
ëŒ€ê¸° ì‹œìŠ¤í…œ: ë“±ë¡/ì¡°íšŒ/ì·¨ì†Œ/ì•Œë¦¼ ì „ì²´ í”Œë¡œìš°
GPS ìœ„ì¹˜ ì¸ì¦: í”„ë¡ íŠ¸ì—”ë“œ ê¸°ë°˜ ê±°ë¦¬ ê³„ì‚°
í˜¼ì¡ë„ ì‹œê°í™”: 5ë‹¨ê³„ ì»¬ëŸ¬ ë°”, ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
ì‹œê°„ëŒ€ë³„ í†µê³„: Recharts ê¸°ë°˜ ì°¨íŠ¸
WebSocket: ì‹¤ì‹œê°„ ë°ì´í„° í‘¸ì‹œ
PWA ê¸°ë³¸ ì„¤ì •: í™ˆ í™”ë©´ ì¶”ê°€ ê°€ëŠ¥

âš ï¸ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ êµ¬í˜„ (ì‹¤ì œ ì—°ë™ì€ ì¶”í›„)

ë©”ë‰´ ë°ì´í„°: ì •ì  JSON íŒŒì¼ (í¬ë¡¤ë§ì€ ì¶”í›„ ì™¸ë¶€ ì„œë²„ì—ì„œ)
í˜¼ì¡ë„ ë°ì´í„°: ì‹œê°„ëŒ€ë³„ íŒ¨í„´ + ëœë¤ ë³€ë™ (YOLOëŠ” ì¶”í›„ Edge deviceì—ì„œ)
ì‹¤ì‹œê°„ ë¶„ì„: ì‹œë®¬ë ˆì´ì…˜ëœ ì¸ì› ì¹´ìš´íŠ¸

âŒ ì œì™¸ (ì¶”í›„ ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™)

YOLO v11 ì‹¤ì‹œê°„ ì˜ìƒ ë¶„ì„
ì‹¤ì œ CCTV RTSP ìŠ¤íŠ¸ë¦¼ ì—°ë™
fnb.hanyang.ac.kr í¬ë¡¤ë§ (ì°¨ë‹¨ ìœ„í—˜)


í•µì‹¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
1. ë ˆì´ì•„ì›ƒ êµ¬ì¡°
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header (ë‚ ì§œ ë„¤ë¹„ê²Œì´ì…˜)        â”‚ â† sticky
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚  Main Content                   â”‚
â”‚  (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)                   â”‚
â”‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Bottom Navigation              â”‚ â† fixed
â”‚  ğŸ  í™ˆ | â³ ë‚´ ëŒ€ê¸° | ğŸ‘¤ MY     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ëª¨ë°”ì¼ ìš°ì„  ë°˜ì‘í˜• (max-width: 32rem / 512px)
Sticky í—¤ë” + í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ (smooth scroll behavior)
í„°ì¹˜ ì œìŠ¤ì²˜ ìµœì í™”

2. í—¤ë” ì˜ì—­
jsx<header className="sticky top-0 z-50 backdrop-blur-lg bg-white/80 border-b">
  <div className="flex items-center justify-between px-4 py-3">
    <Button variant="ghost" size="icon">
      <ChevronLeft />
    </Button>
    <h1 className="font-semibold">1ì›” 16ì¼ (ê¸ˆ)</h1>
    <Button variant="ghost" size="icon">
      <ChevronRight />
    </Button>
  </div>
</header>
ê¸°ëŠ¥:

ì¢Œ/ìš° í™”ì‚´í‘œë¡œ ë‚ ì§œ ì´ë™ (Â±1ì¼)
í˜„ì¬ ë‚ ì§œ ì¤‘ì•™ í‘œì‹œ
ë°˜íˆ¬ëª… ë¸”ëŸ¬ ë°°ê²½

3. í™ˆ í™”ë©´ êµ¬ì¡°
3.1 ìƒë‹¨ ìš”ì•½ ë°°ë„ˆ (ëŒ€ê¸° ì¤‘ì¼ ë•Œë§Œ í‘œì‹œ)
jsx{activeWaiting && (
  <div className="bg-blue-50 border-l-4 border-blue-500 p-4 mb-4">
    <p className="text-sm font-medium">
      {facility.name} {corner.type} ì½”ë„ˆ Â· {waitingNumber}ë²ˆ ëŒ€ê¸° ì¤‘
    </p>
    <p className="text-xs text-gray-600">
      ì•½ {estimatedTime}ë¶„ í›„ ì…ì¥
    </p>
  </div>
)}
3.2 ì‹œì„¤ íƒ€ì… í•„í„° íƒ­
jsx<Tabs defaultValue="all" className="mb-4">
  <TabsList className="grid w-full grid-cols-5">
    <TabsTrigger value="all">ì „ì²´</TabsTrigger>
    <TabsTrigger value="cafeteria">ğŸ½ï¸ ì‹ë‹¹</TabsTrigger>
    <TabsTrigger value="library">ğŸ“š ë„ì„œê´€</TabsTrigger>
    <TabsTrigger value="gym">ğŸ’ª í—¬ìŠ¤ì¥</TabsTrigger>
    <TabsTrigger value="etc">ê¸°íƒ€</TabsTrigger>
  </TabsList>
</Tabs>
3.3 ë°ì´í„° íƒ€ì„ìŠ¤íƒ¬í”„
jsx<p className="text-center text-xs text-gray-500 mb-4">
  ë°ì´í„° ì‹œê°: {formatTime(lastUpdate)}
  <span className="ml-2 inline-flex items-center">
    <span className="animate-pulse h-2 w-2 rounded-full bg-green-500 mr-1" />
    ì‹¤ì‹œê°„
  </span>
</p>
3.4 ì‹œì„¤ ì„¹ì…˜
ê° ì‹œì„¤ë§ˆë‹¤:
jsx<section className="mb-6">
  {/* ì‹œì„¤ í—¤ë” */}
  <div className="flex items-center justify-between mb-3">
    <div className="flex items-center gap-2">
      <h2 className="font-bold text-lg">{facility.name}</h2>
      <Badge variant="secondary">{facilityType}</Badge>
    </div>
    <div className="flex gap-2">
      <Button variant="ghost" size="sm">
        <MapPin className="w-4 h-4 mr-1" />
        ìœ„ì¹˜
      </Button>
      <Button variant="ghost" size="sm">
        <Clock className="w-4 h-4 mr-1" />
        ìš´ì˜ì‹œê°„
      </Button>
    </div>
  </div>

  {/* ì½”ë„ˆ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ */}
  <div className="space-y-3">
    {facility.corners.map(corner => (
      <CongestionCard key={corner.id} corner={corner} />
    ))}
  </div>
</section>
4. í˜¼ì¡ë„ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ (í•µì‹¬)
jsx<Card className="hover:-translate-y-1 transition-transform cursor-pointer">
  <CardContent className="p-4">
    <div className="flex justify-between items-start mb-3">
      {/* ì¢Œì¸¡: ì½”ë„ˆ ì •ë³´ */}
      <div className="flex-1">
        <Badge variant="outline" className="mb-2">
          {corner.type}
        </Badge>
        <h3 className="font-semibold text-lg mb-1 line-clamp-1">
          {corner.menu}
        </h3>
        {corner.price && (
          <p className="text-sm text-gray-600">â‚©{corner.price.toLocaleString()}</p>
        )}
      </div>

      {/* ìš°ì¸¡: í˜¼ì¡ë„ ë°” */}
      <div className="ml-4">
        <CongestionBar level={corner.congestion} />
        <p className="text-xs text-right mt-1 font-medium">
          {getStatusText(corner.congestion)}
        </p>
      </div>
    </div>

    {/* í•˜ë‹¨: ëŒ€ê¸°ì‹œê°„ + ë²„íŠ¼ */}
    <div className="flex justify-between items-center">
      <p className="text-sm text-gray-600">
        ì˜ˆìƒ ëŒ€ê¸°: <span className="font-semibold">{corner.waitTime}ë¶„</span>
      </p>
      <Button 
        size="sm" 
        onClick={() => handleRegister(corner)}
        disabled={corner.congestion >= 5}
      >
        ëŒ€ê¸° ë“±ë¡
      </Button>
    </div>
  </CardContent>
</Card>
CongestionBar ì»´í¬ë„ŒíŠ¸:
jsxconst CongestionBar = ({ level }) => {
  const config = {
    1: { color: 'bg-emerald-500', bars: 1 },
    2: { color: 'bg-lime-500', bars: 2 },
    3: { color: 'bg-yellow-500', bars: 3 },
    4: { color: 'bg-orange-500', bars: 4 },
    5: { color: 'bg-red-500', bars: 5 }
  };

  const { color, bars } = config[level];

  return (
    <div className="flex gap-1">
      {[1, 2, 3, 4, 5].map(i => (
        <div
          key={i}
          className={`w-1.5 h-6 rounded-full ${
            i <= bars ? color : 'bg-gray-200'
          }`}
        />
      ))}
    </div>
  );
};

5. ëŒ€ê¸° ë“±ë¡ í”Œë¡œìš°
5.1 GPS í˜„ì¥ ì¸ì¦ (í”„ë¡ íŠ¸ì—”ë“œ)
javascriptconst verifyLocation = async (facilityLat, facilityLng) => {
  // 1. ì‚¬ìš©ì ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
  const position = await new Promise((resolve, reject) => {
    navigator.geolocation.getCurrentPosition(resolve, reject, {
      enableHighAccuracy: true,
      timeout: 5000,
      maximumAge: 0
    });
  });

  const { latitude: userLat, longitude: userLng } = position.coords;

  // 2. Haversine ê³µì‹ìœ¼ë¡œ ê±°ë¦¬ ê³„ì‚°
  const R = 6371e3; // ì§€êµ¬ ë°˜ê²½ (ë¯¸í„°)
  const Ï†1 = userLat * Math.PI / 180;
  const Ï†2 = facilityLat * Math.PI / 180;
  const Î”Ï† = (facilityLat - userLat) * Math.PI / 180;
  const Î”Î» = (facilityLng - userLng) * Math.PI / 180;

  const a = Math.sin(Î”Ï†/2) * Math.sin(Î”Ï†/2) +
            Math.cos(Ï†1) * Math.cos(Ï†2) *
            Math.sin(Î”Î»/2) * Math.sin(Î”Î»/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  const distance = R * c;

  // 3. 50m ì´ë‚´ í™•ì¸
  if (distance > 50) {
    throw new Error('ì‹œì„¤ì—ì„œ 50m ì´ë‚´ì—ì„œ ë“±ë¡í•´ì£¼ì„¸ìš”.');
  }

  return { distance, verified: true };
};
í…ŒìŠ¤íŠ¸ ëª¨ë“œ (ê°œë°œ ì¤‘):
javascriptconst TEST_MODE = true; // ê°œë°œ ì¤‘ì—ëŠ” true

if (TEST_MODE) {
  // ìœ„ì¹˜ ê²€ì¦ ìš°íšŒ
  return { distance: 0, verified: true };
}
5.2 ëŒ€ê¸° ë“±ë¡ í™•ì¸ ëª¨ë‹¬
jsx<Dialog open={showConfirmModal}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>ëŒ€ê¸° ë“±ë¡ í™•ì¸</DialogTitle>
    </DialogHeader>
    
    <div className="space-y-4">
      <div>
        <p className="font-semibold">{facility.name}</p>
        <p className="text-sm text-gray-600">{corner.type} - {corner.menu}</p>
      </div>

      <Separator />

      <div className="grid grid-cols-2 gap-4 text-sm">
        <div>
          <p className="text-gray-600">í˜„ì¬ ëŒ€ê¸°</p>
          <p className="font-semibold text-lg">{currentQueue}ëª…</p>
        </div>
        <div>
          <p className="text-gray-600">ì˜ˆìƒ ì‹œê°„</p>
          <p className="font-semibold text-lg">{waitTime}ë¶„</p>
        </div>
      </div>

      <Alert>
        <AlertCircle className="h-4 w-4" />
        <AlertDescription>
          í˜¸ì¶œ í›„ 5ë¶„ ë‚´ ë¯¸ì‘ë‹µ ì‹œ ìë™ ì·¨ì†Œë©ë‹ˆë‹¤.
        </AlertDescription>
      </Alert>
    </div>

    <DialogFooter>
      <Button variant="outline" onClick={() => setShowConfirmModal(false)}>
        ì·¨ì†Œ
      </Button>
      <Button onClick={confirmRegistration}>
        ë“±ë¡ í™•ì¸
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
5.3 ëŒ€ê¸° ë“±ë¡ ì™„ë£Œ í™”ë©´
jsx<Card className="mt-4 border-2 border-blue-500">
  <CardHeader className="text-center pb-3">
    <CardTitle className="text-4xl font-bold text-blue-600">
      {waitingNumber}ë²ˆ
    </CardTitle>
    <CardDescription>ë‚´ ëŒ€ê¸°ë²ˆí˜¸</CardDescription>
  </CardHeader>

  <CardContent>
    <div className="space-y-4">
      {/* í˜„ì¬ í˜¸ì¶œ ë²ˆí˜¸ */}
      <div className="text-center bg-gray-50 rounded-lg p-3">
        <p className="text-sm text-gray-600 mb-1">í˜„ì¬ í˜¸ì¶œ</p>
        <p className="text-3xl font-bold">{currentCalling}ë²ˆ</p>
      </div>

      {/* ëŒ€ê¸° ìƒíƒœ */}
      <div className="flex items-center justify-center gap-2">
        <Users className="w-5 h-5 text-gray-600" />
        <p className="text-lg">
          <span className="font-semibold">{waitingAhead}ëª…</span> ì•ì— ëŒ€ê¸° ì¤‘
        </p>
      </div>

      {/* ì˜ˆìƒ ì‹œê°„ */}
      <div className="flex items-center justify-center gap-2">
        <Clock className="w-5 h-5 text-gray-600" />
        <p className="text-lg">
          ì•½ <span className="font-semibold">{estimatedTime}ë¶„</span> í›„ ì…ì¥
        </p>
      </div>

      {/* ë“±ë¡ ì‹œê°„ */}
      <p className="text-center text-xs text-gray-500">
        {formatTime(registeredAt)} ë“±ë¡
      </p>
    </div>
  </CardContent>

  <CardFooter>
    <Button 
      variant="destructive" 
      className="w-full"
      onClick={handleCancel}
    >
      ëŒ€ê¸° ì·¨ì†Œ
    </Button>
  </CardFooter>
</Card>

6. ë‚´ ëŒ€ê¸° í™”ë©´ (ë‚´ ëŒ€ê¸° íƒ­)
jsxconst MyWaitingPage = () => {
  const { activeWaiting } = useWaiting();

  if (!activeWaiting) {
    return (
      <div className="flex flex-col items-center justify-center h-[60vh]">
        <Clock className="w-16 h-16 text-gray-300 mb-4" />
        <p className="text-gray-500">ëŒ€ê¸° ì¤‘ì¸ í•­ëª©ì´ ì—†ìŠµë‹ˆë‹¤</p>
      </div>
    );
  }

  return (
    <div className="p-4 space-y-4">
      {/* í™œì„± ëŒ€ê¸° ì¹´ë“œ */}
      <ActiveWaitingCard waiting={activeWaiting} />

      {/* ëŒ€ê¸° ìƒíƒœ íƒ€ì„ë¼ì¸ */}
      <Card>
        <CardHeader>
          <CardTitle className="text-base">ëŒ€ê¸° ì§„í–‰ ìƒí™©</CardTitle>
        </CardHeader>
        <CardContent>
          <Timeline steps={[
            { label: 'ë“±ë¡ ì™„ë£Œ', status: 'complete' },
            { label: '3ë²ˆ ì „ ì•Œë¦¼', status: activeWaiting.waitingAhead <= 3 ? 'complete' : 'pending' },
            { label: '1ë²ˆ ì „ ì•Œë¦¼', status: activeWaiting.waitingAhead <= 1 ? 'complete' : 'pending' },
            { label: 'ì…ì¥ í˜¸ì¶œ', status: 'pending' }
          ]} />
        </CardContent>
      </Card>

      {/* í‘¸ì‹œ ì•Œë¦¼ ì„¤ì • */}
      <Card>
        <CardHeader>
          <CardTitle className="text-base">ì•Œë¦¼ ì„¤ì •</CardTitle>
        </CardHeader>
        <CardContent className="space-y-3">
          <div className="flex items-center justify-between">
            <Label>3ë²ˆ ì „ ì•Œë¦¼</Label>
            <Switch checked={notifications.threeBefore} onCheckedChange={(v) => setNotifications({...notifications, threeBefore: v})} />
          </div>
          <div className="flex items-center justify-between">
            <Label>1ë²ˆ ì „ ì•Œë¦¼</Label>
            <Switch checked={notifications.oneBefore} onCheckedChange={(v) => setNotifications({...notifications, oneBefore: v})} />
          </div>
          <div className="flex items-center justify-between">
            <Label>í˜¸ì¶œ ì•Œë¦¼</Label>
            <Switch checked disabled />
            <span className="text-xs text-gray-500">(í•„ìˆ˜)</span>
          </div>
        </CardContent>
      </Card>
    </div>
  );
};

7. ì‹œì„¤ ìƒì„¸ í™”ë©´
jsxconst FacilityDetailPage = ({ facilityId }) => {
  const facility = useFacility(facilityId);

  return (
    <div className="pb-20">
      {/* í—¤ë” ì´ë¯¸ì§€ */}
      <div className="relative h-48 bg-gradient-to-br from-blue-500 to-purple-600">
        <div className="absolute inset-0 flex items-center justify-center">
          <Utensils className="w-20 h-20 text-white/80" />
        </div>
      </div>

      {/* ì‹œì„¤ ì •ë³´ */}
      <div className="p-4 space-y-4">
        <div>
          <h1 className="text-2xl font-bold mb-2">{facility.name}</h1>
          <div className="flex items-center gap-2 text-sm text-gray-600">
            <MapPin className="w-4 h-4" />
            <span>{facility.location.address}</span>
          </div>
        </div>

        {/* í˜„ì¬ í˜¼ì¡ë„ ëŒ€í˜• í‘œì‹œ */}
        <Card>
          <CardContent className="p-6 text-center">
            <p className="text-sm text-gray-600 mb-2">í˜„ì¬ í˜¼ì¡ë„</p>
            <div className="flex justify-center mb-3">
              <CongestionBar level={facility.avgCongestion} size="large" />
            </div>
            <p className="text-2xl font-bold">
              {getStatusText(facility.avgCongestion)}
            </p>
          </CardContent>
        </Card>

        {/* ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ (ì‹ë‹¹ì¸ ê²½ìš°) */}
        {facility.type === 'CAFETERIA' && (
          <Card>
            <CardHeader>
              <CardTitle>ğŸ´ ì˜¤ëŠ˜ì˜ ë©”ë‰´</CardTitle>
            </CardHeader>
            <CardContent className="space-y-3">
              {facility.corners.map(corner => (
                <div key={corner.id} className="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                  <div className="flex-1">
                    <Badge variant="outline" className="mb-1">{corner.type}</Badge>
                    <p className="font-semibold">{corner.menu}</p>
                  </div>
                  <div className="text-right ml-4">
                    <p className="font-semibold text-blue-600">
                      â‚©{corner.price.toLocaleString()}
                    </p>
                    <div className="flex items-center gap-2 mt-1">
                      <CongestionBar level={corner.congestion} size="small" />
                      <span className="text-xs">{corner.waitTime}ë¶„</span>
                    </div>
                  </div>
                </div>
              ))}
            </CardContent>
          </Card>
        )}

        {/* ì¢Œì„ í˜„í™© (ë„ì„œê´€ì¸ ê²½ìš°) */}
        {facility.type === 'LIBRARY' && (
          <Card>
            <CardHeader>
              <CardTitle>ğŸ“š ì—´ëŒì‹¤ í˜„í™©</CardTitle>
            </CardHeader>
            <CardContent className="space-y-3">
              {facility.corners.map(corner => (
                <div key={corner.id} className="flex justify-between items-center">
                  <span className="font-medium">{corner.name}</span>
                  <div className="flex items-center gap-3">
                    <span className="text-sm">
                      {corner.available}/{corner.capacity}ì„
                    </span>
                    <CongestionBar level={corner.congestion} />
                  </div>
                </div>
              ))}
            </CardContent>
          </Card>
        )}

        {/* ì‹œê°„ëŒ€ë³„ í˜¼ì¡ë„ ì°¨íŠ¸ */}
        <Card>
          <CardHeader>
            <CardTitle>ğŸ“Š ì‹œê°„ëŒ€ë³„ í˜¼ì¡ë„</CardTitle>
          </CardHeader>
          <CardContent>
            <ResponsiveContainer width="100%" height={200}>
              <LineChart data={facility.hourlyData}>
                <CartesianGrid strokeDasharray="3 3" />
                <XAxis dataKey="hour" />
                <YAxis domain={[1, 5]} ticks={[1, 2, 3, 4, 5]} />
                <Tooltip />
                <Line 
                  type="monotone" 
                  dataKey="congestion" 
                  stroke="#3b82f6" 
                  strokeWidth={2}
                  dot={{ fill: '#3b82f6', r: 4 }}
                />
              </LineChart>
            </ResponsiveContainer>
          </CardContent>
        </Card>

        {/* ìš´ì˜ì‹œê°„ */}
        <Card>
          <CardHeader>
            <CardTitle>ğŸ• ìš´ì˜ì‹œê°„</CardTitle>
          </CardHeader>
          <CardContent className="space-y-2 text-sm">
            <div className="flex justify-between">
              <span className="text-gray-600">í‰ì¼ ì¤‘ì‹</span>
              <span className="font-medium">11:00 - 14:30</span>
            </div>
            <div className="flex justify-between">
              <span className="text-gray-600">í‰ì¼ ì„ì‹</span>
              <span className="font-medium">16:00 - 18:00</span>
            </div>
            <div className="flex justify-between">
              <span className="text-gray-600">í† ìš”ì¼</span>
              <span className="font-medium">10:00 - 14:00</span>
            </div>
            <div className="flex justify-between">
              <span className="text-gray-600">ê³µíœ´ì¼</span>
              <span className="font-medium text-red-500">ìš´ì˜ ì—†ìŒ</span>
            </div>
          </CardContent>
        </Card>
      </div>
    </div>
  );
};

8. ë§ˆì´í˜ì´ì§€
jsxconst MyPage = () => {
  const [darkMode, setDarkMode] = useState(false);

  return (
    <div className="p-4 space-y-4">
      {/* í”„ë¡œí•„ (ê²ŒìŠ¤íŠ¸ ëª¨ë“œ) */}
      <Card>
        <CardContent className="p-6 text-center">
          <div className="w-20 h-20 rounded-full bg-gray-200 mx-auto mb-3 flex items-center justify-center">
            <User className="w-10 h-10 text-gray-500" />
          </div>
          <p className="font-semibold text-lg">ê²ŒìŠ¤íŠ¸</p>
          <p className="text-sm text-gray-500">ë¡œê·¸ì¸í•˜ì—¬ ë” ë§ì€ ê¸°ëŠ¥ ì‚¬ìš©</p>
          <Button className="mt-3" variant="outline" size="sm">
            í•œì–‘ëŒ€ SSO ë¡œê·¸ì¸
          </Button>
        </CardContent>
      </Card>

      {/* ì´ìš© ë‚´ì—­ */}
      <Card>
        <CardHeader>
          <CardTitle>ğŸ“ ìµœê·¼ ì´ìš© ë‚´ì—­</CardTitle>
        </CardHeader>
        <CardContent>
          <div className="space-y-3">
            {history.map(item => (
              <div key={item.id} className="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                <div>
                  <p className="font-medium">{item.facility}</p>
                  <p className="text-xs text-gray-600">{item.date}</p>
                </div>
                <Badge variant={item.status === 'COMPLETED' ? 'success' : 'secondary'}>
                  {item.statusText}
                </Badge>
              </div>
            ))}
          </div>
        </CardContent>
      </Card>

      {/* ë…¸ì‡¼ íŒ¨ë„í‹° í˜„í™© */}
      <Card>
        <CardHeader>
          <CardTitle>âš ï¸ ë…¸ì‡¼ íŒ¨ë„í‹°</CardTitle>
        </CardHeader>
        <CardContent>
          <Alert>
            <AlertCircle className="h-4 w-4" />
            <AlertDescription>
              í˜„ì¬ íŒ¨ë„í‹° ì—†ìŒ
              <br />
              <span className="text-xs text-gray-500">
                ë…¸ì‡¼ ë°œìƒ ì‹œ 10ë¶„ê°„ ì¬ë“±ë¡ì´ ì œí•œë©ë‹ˆë‹¤.
              </span>
            </AlertDescription>
          </Alert>
        </CardContent>
      </Card>

      {/* ì„¤ì • */}
      <Card>
        <CardHeader>
          <CardTitle>âš™ï¸ ì„¤ì •</CardTitle>
        </CardHeader>
        <CardContent className="space-y-4">
          <div className="flex items-center justify-between">
            <div>
              <Label>í‘¸ì‹œ ì•Œë¦¼</Label>
              <p className="text-xs text-gray-500">ëŒ€ê¸° í˜¸ì¶œ ì•Œë¦¼ ë°›ê¸°</p>
            </div>
            <Switch defaultChecked />
          </div>
          <Separator />
          <div className="flex items-center justify-between">
            <div>
              <Label>ë‹¤í¬ëª¨ë“œ</Label>
              <p className="text-xs text-gray-500">í…Œë§ˆ ë³€ê²½</p>
            </div>
            <Switch checked={darkMode} onCheckedChange={setDarkMode} />
          </div>
        </CardContent>
      </Card>

      {/* ì•± ì •ë³´ */}
      <Card>
        <CardContent className="p-4 text-center text-sm text-gray-500">
          <p>ì¤„ì—†ëƒ¥ v1.0.0</p>
          <p className="text-xs mt-1">Made with â¤ï¸ for Hanyang Students</p>
        </CardContent>
      </Card>
    </div>
  );
};

9. ë°ì´í„° êµ¬ì¡°
9.1 ì •ì  ë©”ë‰´ ë°ì´í„° (JSON íŒŒì¼)
javascript// data/facilities.json
{
  "date": "2026-01-16",
  "lastUpdate": "2026-01-16T11:00:00",
  "facilities": [
    {
      "id": "hanyang_plaza",
      "name": "í•™ìƒë³µì§€ê´€ (í•œì–‘í”Œë¼ì)",
      "type": "CAFETERIA",
      "location": {
        "lat": 37.5575,
        "lng": 127.0469,
        "radius": 50,
        "address": "í•œì–‘ëŒ€í•™êµ í•™ìƒë³µì§€ê´€(í•œì–‘í”Œë¼ì) 3ì¸µ",
        "building": "105"
      },
      "capacity": 300,
      "avgServiceTime": 3,
      "operatingHours": {
        "weekday": {
          "breakfast": { "open": "08:20", "close": "10:20" },
          "lunch": { "open": "11:00", "close": "14:30" },
          "dinner": { "open": "16:00", "close": "18:00" }
        },
        "saturday": {
          "lunch": { "open": "10:00", "close": "14:00" }
        },
        "holiday": null
      },
      "corners": [
        {
          "id": "hanyang_plaza_yangshik",
          "type": "ì–‘ì‹",
          "menu": "ì¹˜ì¦ˆëˆê¹ŒìŠ¤",
          "price": 4200,
          "description": ""
        },
        {
          "id": "hanyang_plaza_hanshik",
          "type": "í•œì‹",
          "menu": "ì†Œê³ ê¸°ìš°ê±°ì§€íƒ•",
          "price": 4200,
          "description": "ë°”ì‹¹ë¶ˆê³ ê¸° ë„í† ë¦¬ë¬µë¬´ì¹¨ ê¹€ì¹˜"
        },
        {
          "id": "hanyang_plaza_jukseok",
          "type": "ì¦‰ì„",
          "menu": "ìˆœì‚´ë‹­í•œë§ˆë¦¬",
          "price": 4500,
          "description": "ë°”ì‹¹ë¶ˆê³ ê¸° ë„í† ë¦¬ë¬µë¬´ì¹¨ ê¹€ì¹˜"
        },
        {
          "id": "hanyang_plaza_ramen",
          "type": "ë¼ë©´",
          "menu": "íŒŒë§ˆë¼ë©´(ê³µê¸°ë°¥+500ì›)",
          "price": 3500,
          "description": ""
        }
      ]
    },
    {
      "id": "materials",
      "name": "ì‹ ì†Œì¬ê³µí•™ê´€ ì‹ë‹¹",
      "type": "CAFETERIA",
      "location": {
        "lat": 37.5562,
        "lng": 127.0445,
        "radius": 50,
        "address": "ì‹ ì†Œì¬ê³µí•™ê´€ 7ì¸µ",
        "building": "204"
      },
      "capacity": 150,
      "avgServiceTime": 3,
      "corners": [
        {
          "id": "materials_jeongsik",
          "type": "ì •ì‹",
          "menu": "ë¶€ëŒ€ì°Œê°œ*ë¼ë©´ì‚¬ë¦¬",
          "price": 6000,
          "description": "í‘ë¯¸ë°¥ ì•¼ì±„ì¶˜ê¶Œ*ì¹ ë¦¬ì†ŒìŠ¤ ë©”ì¶”ë¦¬ì•Œê³¤ì•½ì¡°ë¦¼ ê³ ë“¤ë¹¼ê¸°ë¬´ì¹¨ ë°°ì¶”ê¹€ì¹˜"
        },
        {
          "id": "materials_ilpum",
          "type": "ì¼í’ˆ",
          "menu": "íƒ„íƒ„ë©´",
          "price": 6500,
          "description": "ì°¸ì¹˜ê¹€ê°€ë£¨ì£¼ë¨¹ë°¥ í•«ë„ê·¸*ì¼€ì°¹ ì½˜ìƒëŸ¬ë“œ ë‹¨ë¬´ì§€ë¬´ì¹¨ ë°°ì¶”ê¹€ì¹˜"
        }
      ]
    },
    {
      "id": "dorm2",
      "name": "ì œ2í•™ìƒìƒí™œê´€ ì‹ë‹¹",
      "type": "CAFETERIA",
      "location": {
        "lat": 37.5590,
        "lng": 127.0480,
        "radius": 50,
        "address": "ì œ2í•™ìƒìƒí™œê´€ 1ì¸µ",
        "building": "804"
      },
      "capacity": 200,
      "avgServiceTime": 3,
      "corners": [
        {
          "id": "dorm2_breakfast",
          "type": "ì¡°ì‹",
          "menu": "ì‹¬í”Œë–¡ê°ˆë¹„ë²„ê±°, ê°ìíŠ€ê¹€*ì¼€ì°¹, ìš”ê±°í†¡, ë°”ë‚˜ë‚˜ ì˜¤ë Œì§€ì£¼ìŠ¤",
          "price": 4500
        },
        {
          "id": "dorm2_lunch",
          "type": "ì¤‘ì‹",
          "menu": "ê³ êµ¬ë§ˆë‹­ê°ˆë¹„",
          "price": 4500,
          "description": "ìŒ€ë°¥, ì¡°ë­ë–¡ë¯¸ì—­êµ­, ê¹€ë§ì´íŠ€ê¹€*ì´ˆê°„ì¥, ì½˜ì½”ìš¸ìŠ¬ë¡œ, ë°°ì¶”ê¹€ì¹˜"
        },
        {
          "id": "dorm2_dinner",
          "type": "ì„ì‹",
          "menu": "ëˆì‚¬íƒœê¹€ì¹˜ì°œ",
          "price": 4500,
          "description": "ìŒ€ë°¥, ì‹œë˜ê¸°ëœì¥êµ­, ì™•êµìë§Œë‘íŠ€ê¹€, ë©”ì¶”ë¦¬ì•Œê³¤ì•½ì¡°ë¦¼, ê¹ë‘ê¸°"
        }
      ]
    },
    {
      "id": "library_main",
      "name": "ë°±ë‚¨í•™ìˆ ì •ë³´ê´€",
      "type": "LIBRARY",
      "location": {
        "lat": 37.5571,
        "lng": 127.0461,
        "radius": 100,
        "address": "í•œì–‘ëŒ€í•™êµ ë°±ë‚¨í•™ìˆ ì •ë³´ê´€"
      },
      "corners": [
        {
          "id": "reading_room_1",
          "type": "ì—´ëŒì‹¤",
          "name": "ì œ1ì—´ëŒì‹¤",
          "capacity": 200
        },
        {
          "id": "reading_room_2",
          "type": "ì—´ëŒì‹¤",
          "name": "ì œ2ì—´ëŒì‹¤",
          "capacity": 150
        },
        {
          "id": "laptop_room",
          "type": "ë…¸íŠ¸ë¶ì‹¤",
          "name": "ë…¸íŠ¸ë¶ì—´ëŒì‹¤",
          "capacity": 80
        }
      ]
    },
    {
      "id": "gym_fitness",
      "name": "ì²´ìœ¡ê´€ í”¼íŠ¸ë‹ˆìŠ¤ì„¼í„°",
      "type": "GYM",
      "location": {
        "lat": 37.5580,
        "lng": 127.0475,
        "radius": 50,
        "address": "í•œì–‘ëŒ€í•™êµ ì²´ìœ¡ê´€ 2ì¸µ"
      },
      "capacity": 60
    }
  ]
}
9.2 ì‹œë®¬ë ˆì´ì…˜ í˜¼ì¡ë„ ìƒì„± ë¡œì§
javascript// utils/congestionSimulator.js

/**
 * ì‹œê°„ëŒ€ë³„ ê¸°ë³¸ í˜¼ì¡ë„ íŒ¨í„´
 */
const TIME_PATTERNS = {
  CAFETERIA: {
    breakfast: { start: 8, end: 10, peakLevel: 3 },
    lunch: { start: 11, end: 14, peakLevel: 4 },
    dinner: { start: 17, end: 19, peakLevel: 4 }
  },
  LIBRARY: {
    morning: { start: 9, end: 12, peakLevel: 2 },
    afternoon: { start: 13, end: 18, peakLevel: 3 },
    evening: { start: 19, end: 22, peakLevel: 4 }
  },
  GYM: {
    morning: { start: 6, end: 9, peakLevel: 3 },
    afternoon: { start: 17, end: 20, peakLevel: 5 }
  }
};

/**
 * í˜„ì¬ ì‹œê°„ ê¸°ë°˜ ê¸°ë³¸ í˜¼ì¡ë„ ê³„ì‚°
 */
function getBaseCongestion(facilityType, currentHour) {
  const patterns = TIME_PATTERNS[facilityType];
  if (!patterns) return 2;

  for (const [period, config] of Object.entries(patterns)) {
    if (currentHour >= config.start && currentHour < config.end) {
      // í”¼í¬ ì‹œê°„ëŒ€ ì¤‘ì•™ì— ê°€ê¹Œìš¸ìˆ˜ë¡ ë†’ì€ ë ˆë²¨
      const middle = (config.start + config.end) / 2;
      const distance = Math.abs(currentHour - middle);
      const maxDistance = (config.end - config.start) / 2;
      const ratio = 1 - (distance / maxDistance);
      
      return Math.round(config.peakLevel * ratio) || 1;
    }
  }

  return 1; // ìš´ì˜ì‹œê°„ ì™¸
}

/**
 * ìì—°ìŠ¤ëŸ¬ìš´ ë³€ë™ ì¶”ê°€
 */
function addNaturalVariation(baseLevel, previousLevel = null) {
  // ì´ì „ ë ˆë²¨ê³¼ ê¸‰ê²©íˆ ë³€í•˜ì§€ ì•Šë„ë¡
  if (previousLevel !== null) {
    const maxChange = 1;
    const change = (Math.random() - 0.5) * 2 * maxChange;
    const newLevel = previousLevel + change;
    
    // ê¸°ë³¸ ë ˆë²¨ ìª½ìœ¼ë¡œ ìˆ˜ë ´
    return Math.round((newLevel + baseLevel) / 2);
  }

  // ëœë¤ ë³€ë™ Â±1
  const variation = Math.floor(Math.random() * 3) - 1;
  return Math.max(1, Math.min(5, baseLevel + variation));
}

/**
 * íŠ¹ì • ì‹œì„¤ì˜ ì‹¤ì‹œê°„ í˜¼ì¡ë„ ìƒì„±
 */
export function generateCongestionData(facility, previousData = null) {
  const now = new Date();
  const currentHour = now.getHours();
  const currentMinute = now.getMinutes();

  // ì‹œì„¤ íƒ€ì…ë³„ ê¸°ë³¸ í˜¼ì¡ë„
  const baseLevel = getBaseCongestion(facility.type, currentHour);

  // ê° ì½”ë„ˆë³„ í˜¼ì¡ë„ ìƒì„±
  const corners = facility.corners.map((corner, index) => {
    const prevCorner = previousData?.corners?.[index];
    const congestion = addNaturalVariation(baseLevel, prevCorner?.congestion);
    
    // ëŒ€ê¸°ì‹œê°„ ê³„ì‚°
    const queueCount = Math.floor(Math.random() * (congestion * 5));
    const waitTime = calculateWaitTime(queueCount, facility.avgServiceTime || 3);

    return {
      id: corner.id,
      type: corner.type,
      menu: corner.menu,
      price: corner.price,
      congestion,
      queueCount,
      waitTime,
      currentQueue: queueCount,
      diningCount: Math.floor(Math.random() * (facility.capacity / facility.corners.length))
    };
  });

  return {
    facilityId: facility.id,
    timestamp: now.toISOString(),
    corners,
    avgCongestion: Math.round(
      corners.reduce((sum, c) => sum + c.congestion, 0) / corners.length
    )
  };
}

/**
 * ëŒ€ê¸°ì‹œê°„ ê³„ì‚°
 */
function calculateWaitTime(queueCount, avgServiceTime) {
  if (queueCount === 0) return 0;
  
  // ê¸°ë³¸: ëŒ€ê¸° ì¸ì› Ã— í‰ê·  ì„œë¹„ìŠ¤ ì‹œê°„
  const baseTime = queueCount * avgServiceTime;
  
  // ì•½ê°„ì˜ ëœë¤ ë³€ë™ (-1 ~ +2ë¶„)
  const variation = Math.floor(Math.random() * 4) - 1;
  
  return Math.max(1, baseTime + variation);
}

/**
 * ì‹œê°„ëŒ€ë³„ í†µê³„ ë°ì´í„° ìƒì„± (ì°¨íŠ¸ìš©)
 */
export function generateHourlyData(facility, date = new Date()) {
  const hourlyData = [];
  
  for (let hour = 9; hour <= 21; hour++) {
    const baseLevel = getBaseCongestion(facility.type, hour);
    const congestion = addNaturalVariation(baseLevel);
    
    hourlyData.push({
      hour: `${hour}:00`,
      congestion,
      queueCount: congestion * 3,
      label: getCongestionLabel(congestion)
    });
  }
  
  return hourlyData;
}

/**
 * í˜¼ì¡ë„ ë ˆë²¨ â†’ í…ìŠ¤íŠ¸ ë¼ë²¨
 */
function getCongestionLabel(level) {
  const labels = {
    1: 'ë§¤ìš°ì—¬ìœ ',
    2: 'ì—¬ìœ ',
    3: 'ë³´í†µ',
    4: 'í˜¼ì¡',
    5: 'ë§¤ìš°í˜¼ì¡'
  };
  return labels[level] || 'ë³´í†µ';
}
9.3 ëŒ€ê¸°ì—´ ë°ì´í„° (ë¡œì»¬ìŠ¤í† ë¦¬ì§€)
javascript// utils/waitingQueue.js

/**
 * ëŒ€ê¸° ë“±ë¡
 */
export function registerWaiting(facilityId, cornerId, cornerData) {
  const waitingId = `waiting_${Date.now()}`;
  const currentQueue = cornerData.queueCount || 0;
  const waitingNumber = currentQueue + 1;

  const waitingData = {
    id: waitingId,
    facilityId,
    cornerId,
    facilityName: cornerData.facilityName,
    cornerType: cornerData.type,
    menu: cornerData.menu,
    waitingNumber,
    currentCalling: Math.max(1, waitingNumber - currentQueue),
    waitingAhead: currentQueue,
    estimatedTime: cornerData.waitTime,
    status: 'WAITING',
    registeredAt: new Date().toISOString(),
    calledAt: null,
    enteredAt: null,
    notified: {
      threeBefore: false,
      oneBefore: false,
      called: false
    }
  };

  // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì €ì¥
  localStorage.setItem('activeWaiting', JSON.stringify(waitingData));
  
  // íˆìŠ¤í† ë¦¬ ì¶”ê°€
  addToHistory(waitingData);

  return waitingData;
}

/**
 * í™œì„± ëŒ€ê¸° ì¡°íšŒ
 */
export function getActiveWaiting() {
  const data = localStorage.getItem('activeWaiting');
  return data ? JSON.parse(data) : null;
}

/**
 * ëŒ€ê¸° ì—…ë°ì´íŠ¸ (ì‹œë®¬ë ˆì´ì…˜)
 */
export function updateWaiting(waitingData) {
  // 30ì´ˆë§ˆë‹¤ í˜¸ì¶œ ë²ˆí˜¸ ì¦ê°€ (ì‹œë®¬ë ˆì´ì…˜)
  const elapsed = Date.now() - new Date(waitingData.registeredAt).getTime();
  const increments = Math.floor(elapsed / 30000); // 30ì´ˆë‹¹ 1ë²ˆ ì¦ê°€
  
  const newCalling = waitingData.currentCalling + increments;
  const newWaitingAhead = Math.max(0, waitingData.waitingNumber - newCalling);
  
  const updated = {
    ...waitingData,
    currentCalling: newCalling,
    waitingAhead: newWaitingAhead,
    estimatedTime: Math.max(0, Math.ceil(newWaitingAhead * 3))
  };

  // ì•Œë¦¼ íŠ¸ë¦¬ê±°
  checkNotifications(updated);

  // í˜¸ì¶œë¨
  if (newCalling >= waitingData.waitingNumber) {
    updated.status = 'CALLED';
    updated.calledAt = new Date().toISOString();
  }

  localStorage.setItem('activeWaiting', JSON.stringify(updated));
  return updated;
}

/**
 * ëŒ€ê¸° ì·¨ì†Œ
 */
export function cancelWaiting(waitingId) {
  const waiting = getActiveWaiting();
  if (waiting && waiting.id === waitingId) {
    waiting.status = 'CANCELLED';
    waiting.cancelledAt = new Date().toISOString();
    
    addToHistory(waiting);
    localStorage.removeItem('activeWaiting');
    
    return true;
  }
  return false;
}

/**
 * ëŒ€ê¸° ì™„ë£Œ (ì…ì¥)
 */
export function completeWaiting(waitingId) {
  const waiting = getActiveWaiting();
  if (waiting && waiting.id === waitingId) {
    waiting.status = 'COMPLETED';
    waiting.enteredAt = new Date().toISOString();
    
    addToHistory(waiting);
    localStorage.removeItem('activeWaiting');
    
    return true;
  }
  return false;
}

/**
 * ì´ìš© ë‚´ì—­ ì¶”ê°€
 */
function addToHistory(waitingData) {
  const history = JSON.parse(localStorage.getItem('waitingHistory') || '[]');
  history.unshift({
    ...waitingData,
    id: waitingData.id,
    date: new Date(waitingData.registeredAt).toLocaleDateString('ko-KR'),
    statusText: getStatusText(waitingData.status)
  });
  
  // ìµœê·¼ 20ê°œë§Œ ìœ ì§€
  if (history.length > 20) {
    history.splice(20);
  }
  
  localStorage.setItem('waitingHistory', JSON.stringify(history));
}

/**
 * ì´ìš© ë‚´ì—­ ì¡°íšŒ
 */
export function getWaitingHistory() {
  return JSON.parse(localStorage.getItem('waitingHistory') || '[]');
}

/**
 * ì•Œë¦¼ ì²´í¬ ë° ì „ì†¡
 */
function checkNotifications(waiting) {
  // 3ë²ˆ ì „ ì•Œë¦¼
  if (waiting.waitingAhead === 3 && !waiting.notified.threeBefore) {
    sendNotification({
      title: 'ì¤„ì—†ëƒ¥ ì•Œë¦¼',
      body: '3ë²ˆ ì „ì…ë‹ˆë‹¤! ê³§ ì…ì¥ ì¤€ë¹„í•´ì£¼ì„¸ìš”.',
      icon: '/icon-192.png',
      tag: 'three-before'
    });
    waiting.notified.threeBefore = true;
  }

  // 1ë²ˆ ì „ ì•Œë¦¼
  if (waiting.waitingAhead === 1 && !waiting.notified.oneBefore) {
    sendNotification({
      title: 'ì¤„ì—†ëƒ¥ ì•Œë¦¼',
      body: '1ë²ˆ ì „ì…ë‹ˆë‹¤! ì§€ê¸ˆ ì´ë™í•´ì£¼ì„¸ìš”.',
      icon: '/icon-192.png',
      tag: 'one-before'
    });
    waiting.notified.oneBefore = true;
  }

  // í˜¸ì¶œ ì•Œë¦¼
  if (waiting.waitingAhead === 0 && !waiting.notified.called) {
    sendNotification({
      title: 'ì…ì¥ í˜¸ì¶œ!',
      body: 'ì§€ê¸ˆ ë°”ë¡œ ì…ì¥í•´ì£¼ì„¸ìš”. 5ë¶„ í›„ ìë™ ì·¨ì†Œë©ë‹ˆë‹¤.',
      icon: '/icon-192.png',
      tag: 'called',
      requireInteraction: true
    });
    waiting.notified.called = true;
  }
}

/**
 * í‘¸ì‹œ ì•Œë¦¼ ì „ì†¡
 */
async function sendNotification(options) {
  if ('Notification' in window && Notification.permission === 'granted') {
    new Notification(options.title, options);
    
    // ì§„ë™
    if ('vibrate' in navigator) {
      navigator.vibrate([200, 100, 200]);
    }
  }
}

/**
 * ìƒíƒœ í…ìŠ¤íŠ¸
 */
function getStatusText(status) {
  const statusMap = {
    'WAITING': 'ëŒ€ê¸° ì¤‘',
    'CALLED': 'í˜¸ì¶œë¨',
    'COMPLETED': 'ì™„ë£Œ',
    'CANCELLED': 'ì·¨ì†Œ',
    'EXPIRED': 'ë§Œë£Œ'
  };
  return statusMap[status] || status;
}

10. ë°±ì—”ë“œ API (Express.js + WebSocket)
javascript// server/index.js
import express from 'express';
import { createServer } from 'http';
import { WebSocketServer } from 'ws';
import cors from 'cors';
import NodeCache from 'node-cache';
import fs from 'fs/promises';

const app = express();
const server = createServer(app);
const wss = new WebSocketServer({ server });

// ë¯¸ë“¤ì›¨ì–´
app.use(cors());
app.use(express.json());

// ìºì‹œ (5ë¶„ TTL)
const cache = new NodeCache({ stdTTL: 300 });

// ì •ì  ë©”ë‰´ ë°ì´í„° ë¡œë“œ
let facilitiesData = null;
async function loadFacilitiesData() {
  const data = await fs.readFile('./data/facilities.json', 'utf-8');
  facilitiesData = JSON.parse(data);
  return facilitiesData;
}

// í˜¼ì¡ë„ ì‹œë®¬ë ˆì´í„°
import { generateCongestionData, generateHourlyData } from '../utils/congestionSimulator.js';

// ============================================
// REST API
// ============================================

/**
 * GET /api/facilities
 * ì „ì²´ ì‹œì„¤ ëª©ë¡ ì¡°íšŒ
 */
app.get('/api/facilities', async (req, res) => {
  try {
    if (!facilitiesData) {
      await loadFacilitiesData();
    }

    // ìºì‹œì—ì„œ í˜¼ì¡ë„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    const facilitiesWithCongestion = facilitiesData.facilities.map(facility => {
      const congestionData = cache.get(`congestion_${facility.id}`) || 
                            generateCongestionData(facility);
      
      cache.set(`congestion_${facility.id}`, congestionData);

      return {
        ...facility,
        congestion: congestionData,
        corners: facility.corners.map(corner => {
          const cornerCongestion = congestionData.corners.find(
            c => c.id === corner.id
          );
          return {
            ...corner,
            ...cornerCongestion
          };
        })
      };
    });

    res.json({
      date: facilitiesData.date,
      lastUpdate: new Date().toISOString(),
      facilities: facilitiesWithCongestion
    });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

/**
 * GET /api/facilities/:id
 * íŠ¹ì • ì‹œì„¤ ìƒì„¸ ì¡°íšŒ
 */
app.get('/api/facilities/:id', async (req, res) => {
  try {
    if (!facilitiesData) {
      await loadFacilitiesData();
    }

    const facility = facilitiesData.facilities.find(
      f => f.id === req.params.id
    );

    if (!facility) {
      return res.status(404).json({ error: 'Facility not found' });
    }

    // í˜¼ì¡ë„ ë°ì´í„°
    const congestionData = cache.get(`congestion_${facility.id}`) || 
                          generateCongestionData(facility);
    cache.set(`congestion_${facility.id}`, congestionData);

    // ì‹œê°„ëŒ€ë³„ ë°ì´í„°
    const hourlyData = generateHourlyData(facility);

    res.json({
      ...facility,
      congestion: congestionData,
      hourlyData,
      corners: facility.corners.map(corner => {
        const cornerCongestion = congestionData.corners.find(
          c => c.id === corner.id
        );
        return {
          ...corner,
          ...cornerCongestion
        };
      })
    });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

/**
 * GET /api/facilities/:id/hourly
 * ì‹œê°„ëŒ€ë³„ í†µê³„ ì¡°íšŒ
 */
app.get('/api/facilities/:id/hourly', async (req, res) => {
  try {
    if (!facilitiesData) {
      await loadFacilitiesData();
    }

    const facility = facilitiesData.facilities.find(
      f => f.id === req.params.id
    );

    if (!facility) {
      return res.status(404).json({ error: 'Facility not found' });
    }

    const hourlyData = generateHourlyData(facility);
    res.json({ hourlyData });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

/**
 * POST /api/waiting/register
 * ëŒ€ê¸° ë“±ë¡
 */
app.post('/api/waiting/register', async (req, res) => {
  try {
    const { facilityId, cornerId, userLocation } = req.body;

    // ì‹œì„¤ ì¡°íšŒ
    const facility = facilitiesData.facilities.find(f => f.id === facilityId);
    if (!facility) {
      return res.status(404).json({ error: 'Facility not found' });
    }

    // GPS ê²€ì¦ (í”„ë¡œë•ì…˜ì—ì„œëŠ” ì„œë²„ì—ì„œ ê²€ì¦)
    // í˜„ì¬ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‹ ë¢°
    const verified = true;

    // í˜¼ì¡ë„ ë°ì´í„°
    const congestionData = cache.get(`congestion_${facilityId}`);
    const corner = congestionData.corners.find(c => c.id === cornerId);

    if (!corner) {
      return res.status(404).json({ error: 'Corner not found' });
    }

    // ëŒ€ê¸°ë²ˆí˜¸ ë°œê¸‰
    const waitingNumber = corner.queueCount + 1;

    res.json({
      success: true,
      waitingNumber,
      currentCalling: Math.max(1, waitingNumber - corner.queueCount),
      estimatedTime: corner.waitTime,
      facilityName: facility.name,
      cornerType: corner.type,
      menu: corner.menu
    });
  } catch (error) {
    res.status(500).json({ error: error.message });
  }
});

// ============================================
// WebSocket (ì‹¤ì‹œê°„ í˜¼ì¡ë„ ìŠ¤íŠ¸ë¦¬ë°)
// ============================================

const clients = new Set();

wss.on('connection', (ws) => {
  console.log('Client connected');
  clients.add(ws);

  // ì´ˆê¸° ë°ì´í„° ì „ì†¡
  ws.on('message', async (message) => {
    try {
      const data = JSON.parse(message);
      
      if (data.type === 'subscribe') {
        const facilityId = data.facilityId;
        
        // êµ¬ë… ì •ë³´ ì €ì¥
        ws.facilityId = facilityId;
        
        // ì¦‰ì‹œ í˜„ì¬ ë°ì´í„° ì „ì†¡
        const facility = facilitiesData.facilities.find(f => f.id === facilityId);
        if (facility) {
          const congestionData = generateCongestionData(facility);
          cache.set(`congestion_${facilityId}`, congestionData);
          
          ws.send(JSON.stringify({
            type: 'congestion_update',
            data: congestionData
          }));
        }
      }
    } catch (error) {
      console.error('WebSocket message error:', error);
    }
  });

  ws.on('close', () => {
    console.log('Client disconnected');
    clients.delete(ws);
  });
});

// 5ì´ˆë§ˆë‹¤ í˜¼ì¡ë„ ì—…ë°ì´íŠ¸ ë¸Œë¡œë“œìºìŠ¤íŠ¸
setInterval(async () => {
  if (!facilitiesData) return;

  for (const facility of facilitiesData.facilities) {
    const previousData = cache.get(`congestion_${facility.id}`);
    const newData = generateCongestionData(facility, previousData);
    cache.set(`congestion_${facility.id}`, newData);

    // í•´ë‹¹ ì‹œì„¤ì„ êµ¬ë… ì¤‘ì¸ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡
    clients.forEach(client => {
      if (client.readyState === 1 && client.facilityId === facility.id) {
        client.send(JSON.stringify({
          type: 'congestion_update',
          data: newData
        }));
      }
    });
  }
}, 5000);

// ============================================
// ì„œë²„ ì‹œì‘
// ============================================

const PORT = process.env.PORT || 3000;

async function start() {
  await loadFacilitiesData();
  server.listen(PORT, () => {
    console.log(`Server running on port ${PORT}`);
  });
}

start();

11. í”„ë¡ íŠ¸ì—”ë“œ Hooks
11.1 ì‹¤ì‹œê°„ í˜¼ì¡ë„ í›…
javascript// hooks/useCongestion.js
import { useState, useEffect } from 'react';

export const useCongestion = (facilityId) => {
  const [congestion, setCongestion] = useState(null);
  const [isConnected, setIsConnected] = useState(false);
  const [error, setError] = useState(null);

  useEffect(() => {
    if (!facilityId) return;

    // WebSocket ì—°ê²°
    const ws = new WebSocket(`ws://localhost:3000`);
    
    ws.onopen = () => {
      setIsConnected(true);
      // ì‹œì„¤ êµ¬ë…
      ws.send(JSON.stringify({
        type: 'subscribe',
        facilityId
      }));
    };

    ws.onmessage = (event) => {
      try {
        const message = JSON.parse(event.data);
        if (message.type === 'congestion_update') {
          setCongestion(message.data);
        }
      } catch (err) {
        setError(err.message);
      }
    };

    ws.onerror = (err) => {
      setError('WebSocket error');
      setIsConnected(false);
    };

    ws.onclose = () => {
      setIsConnected(false);
    };

    return () => {
      if (ws.readyState === WebSocket.OPEN) {
        ws.close();
      }
    };
  }, [facilityId]);

  return { congestion, isConnected, error };
};

// ì „ì²´ ì‹œì„¤ ëª©ë¡ìš©
export const useAllFacilities = () => {
  const [facilities, setFacilities] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchFacilities = async () => {
      try {
        const response = await fetch('http://localhost:3000/api/facilities');
        if (!response.ok) throw new Error('Failed to fetch');
        const data = await response.json();
        setFacilities(data.facilities);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchFacilities();
    
    // 30ì´ˆë§ˆë‹¤ í´ë§ (WebSocket ë°±ì—…)
    const interval = setInterval(fetchFacilities, 30000);
    return () => clearInterval(interval);
  }, []);

  return { facilities, loading, error };
};
11.2 ëŒ€ê¸° ê´€ë¦¬ í›…
javascript// hooks/useWaiting.js
import { useState, useEffect, useCallback } from 'react';
import {
  registerWaiting,
  getActiveWaiting,
  updateWaiting,
  cancelWaiting,
  completeWaiting,
  getWaitingHistory
} from '../utils/waitingQueue';

export const useWaiting = () => {
  const [activeWaiting, setActiveWaiting] = useState(null);
  const [history, setHistory] = useState([]);

  // ì´ˆê¸° ë¡œë“œ
  useEffect(() => {
    const waiting = getActiveWaiting();
    setActiveWaiting(waiting);
    setHistory(getWaitingHistory());
  }, []);

  // ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ (30ì´ˆë§ˆë‹¤)
  useEffect(() => {
    if (!activeWaiting || activeWaiting.status !== 'WAITING') return;

    const interval = setInterval(() => {
      const updated = updateWaiting(activeWaiting);
      setActiveWaiting(updated);
    }, 30000);

    return () => clearInterval(interval);
  }, [activeWaiting]);

  // ëŒ€ê¸° ë“±ë¡
  const register = useCallback(async (facilityId, cornerId, cornerData) => {
    try {
      // ì„œë²„ì— ë“±ë¡ ìš”ì²­
      const response = await fetch('http://localhost:3000/api/waiting/register', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          facilityId,
          cornerId,
          userLocation: null // GPSëŠ” í´ë¼ì´ì–¸íŠ¸ì—ì„œ ê²€ì¦ë¨
        })
      });

      if (!response.ok) throw new Error('ë“±ë¡ ì‹¤íŒ¨');

      const serverData = await response.json();

      // ë¡œì»¬ì— ì €ì¥
      const waiting = registerWaiting(facilityId, cornerId, {
        ...cornerData,
        ...serverData
      });

      setActiveWaiting(waiting);
      return waiting;
    } catch (error) {
      throw error;
    }
  }, []);

  // ëŒ€ê¸° ì·¨ì†Œ
  const cancel = useCallback((waitingId) => {
    const success = cancelWaiting(waitingId);
    if (success) {
      setActiveWaiting(null);
      setHistory(getWaitingHistory());
    }
    return success;
  }, []);

  // ì…ì¥ ì™„ë£Œ
  const complete = useCallback((waitingId) => {
    const success = completeWaiting(waitingId);
    if (success) {
      setActiveWaiting(null);
      setHistory(getWaitingHistory());
    }
    return success;
  }, []);

  return {
    activeWaiting,
    history,
    register,
    cancel,
    complete
  };
};
11.3 GPS ìœ„ì¹˜ í›…
javascript// hooks/useLocation.js
import { useState, useEffect } from 'react';

export const useLocation = () => {
  const [location, setLocation] = useState(null);
  const [error, setError] = useState(null);
  const [loading, setLoading] = useState(false);

  const requestLocation = async () => {
    setLoading(true);
    setError(null);

    try {
      const position = await new Promise((resolve, reject) => {
        navigator.geolocation.getCurrentPosition(resolve, reject, {
          enableHighAccuracy: true,
          timeout: 5000,
          maximumAge: 0
        });
      });

      setLocation({
        lat: position.coords.latitude,
        lng: position.coords.longitude,
        accuracy: position.coords.accuracy
      });
    } catch (err) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  return { location, error, loading, requestLocation };
};

// Haversine ê±°ë¦¬ ê³„ì‚°
export const calculateDistance = (lat1, lng1, lat2, lng2) => {
  const R = 6371e3; // ì§€êµ¬ ë°˜ê²½ (ë¯¸í„°)
  const Ï†1 = lat1 * Math.PI / 180;
  const Ï†2 = lat2 * Math.PI / 180;
  const Î”Ï† = (lat2 - lat1) * Math.PI / 180;
  const Î”Î» = (lng2 - lng1) * Math.PI / 180;

  const a = Math.sin(Î”Ï†/2) * Math.sin(Î”Ï†/2) +
            Math.cos(Ï†1) * Math.cos(Ï†2) *
            Math.sin(Î”Î»/2) * Math.sin(Î”Î»/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

  return R * c; // ë¯¸í„° ë‹¨ìœ„
};

// ì‹œì„¤ ê·¼ì²˜ ì—¬ë¶€ í™•ì¸
export const isNearFacility = (userLat, userLng, facility, radius = 50) => {
  const distance = calculateDistance(
    userLat,
    userLng,
    facility.location.lat,
    facility.location.lng
  );
  return distance <= (facility.location.radius || radius);
};

12. í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜
jsx// components/BottomNav.jsx
import { Home, Clock, User } from 'lucide-react';
import { useLocation as useRouterLocation, Link } from 'react-router-dom';
import { Badge } from '@/components/ui/badge';

const BottomNav = ({ activeWaiting }) => {
  const location = useRouterLocation();

  const navItems = [
    {
      path: '/',
      icon: Home,
      label: 'í™ˆ'
    },
    {
      path: '/waiting',
      icon: Clock,
      label: 'ë‚´ ëŒ€ê¸°',
      badge: activeWaiting ? '1' : null
    },
    {
      path: '/my',
      icon: User,
      label: 'MY'
    }
  ];

  return (
    <nav className="fixed bottom-0 left-0 right-0 bg-white border-t z-50">
      <div className="max-w-2xl mx-auto grid grid-cols-3">
        {navItems.map(item => {
          const Icon = item.icon;
          const isActive = location.pathname === item.path;

          return (
            <Link
              key={item.path}
              to={item.path}
              className={`flex flex-col items-center py-3 relative ${
                isActive ? 'text-blue-600' : 'text-gray-600'
              }`}
            >
              <div className="relative">
                <Icon className={`w-6 h-6 ${isActive ? 'fill-current' : ''}`} />
                {item.badge && (
                  <Badge 
                    variant="destructive" 
                    className="absolute -top-2 -right-2 h-5 w-5 p-0 flex items-center justify-center text-xs"
                  >
                    {item.badge}
                  </Badge>
                )}
              </div>
              <span className={`text-xs mt-1 ${isActive ? 'font-semibold' : ''}`}>
                {item.label}
              </span>
            </Link>
          );
        })}
      </div>
    </nav>
  );
};

export default BottomNav;

13. PWA ì„¤ì •
13.1 manifest.json
json{
  "name": "ì¤„ì—†ëƒ¥ - í•œì–‘ëŒ€ í˜¼ì¡ë„",
  "short_name": "ì¤„ì—†ëƒ¥",
  "description": "í•œì–‘ëŒ€ ìº í¼ìŠ¤ ì‹¤ì‹œê°„ í˜¼ì¡ë„ ë° ëŒ€ê¸° ê´€ë¦¬",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#3b82f6",
  "orientation": "portrait",
  "icons": [
    {
      "src": "/icon-192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/icon-512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ]
}
13.2 Service Worker (ê¸°ë³¸)
javascript// public/sw.js
const CACHE_NAME = 'juleobnyang-v1';
const urlsToCache = [
  '/',
  '/index.html',
  '/manifest.json'
];

self.addEventListener('install', (event) => {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(cache => cache.addAll(urlsToCache))
  );
});

self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});

14. ë””ìì¸ ì‹œìŠ¤í…œ
javascript// tailwind.config.js
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        primary: {
          DEFAULT: '#3b82f6',
          50: '#eff6ff',
          100: '#dbeafe',
          500: '#3b82f6',
          600: '#2563eb',
        },
        congestion: {
          1: '#10b981', // emerald-500
          2: '#84cc16', // lime-500
          3: '#eab308', // yellow-500
          4: '#f97316', // orange-500
          5: '#ef4444', // red-500
        }
      },
      animation: {
        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
      }
    },
  },
  plugins: [],
}
```

---

## 15. êµ¬í˜„ ìˆœì„œ

### Phase 1: í”„ë¡œì íŠ¸ ì…‹ì—… (1ì¼)
1. âœ… Vite + React í”„ë¡œì íŠ¸ ìƒì„±
2. âœ… Tailwind CSS + shadcn/ui ì„¤ì¹˜
3. âœ… Express.js ë°±ì—”ë“œ ì…‹ì—…
4. âœ… í´ë” êµ¬ì¡° ì„¤ì •
5. âœ… ì •ì  ë©”ë‰´ JSON íŒŒì¼ ì‘ì„±

### Phase 2: ê¸°ë³¸ UI êµ¬ì¡° (2ì¼)
6. âœ… ë ˆì´ì•„ì›ƒ (Header + Main + BottomNav)
7. âœ… í™ˆ í™”ë©´ ê¸°ë³¸ êµ¬ì¡°
8. âœ… ì‹œì„¤ íƒ€ì… í•„í„° íƒ­
9. âœ… í˜¼ì¡ë„ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
10. âœ… CongestionBar ì»´í¬ë„ŒíŠ¸

### Phase 3: ë°ì´í„° ì—°ë™ (1ì¼)
11. âœ… ì‹œë®¬ë ˆì´ì…˜ ë¡œì§ êµ¬í˜„
12. âœ… REST API êµ¬í˜„
13. âœ… WebSocket ì‹¤ì‹œê°„ ì—°ë™
14. âœ… í”„ë¡ íŠ¸ì—”ë“œ Hooks ì‘ì„±

### Phase 4: ëŒ€ê¸° ì‹œìŠ¤í…œ (2ì¼)
15. âœ… GPS ìœ„ì¹˜ ì¸ì¦
16. âœ… ëŒ€ê¸° ë“±ë¡ í”Œë¡œìš° (ëª¨ë‹¬)
17. âœ… ë‚´ ëŒ€ê¸° í™”ë©´
18. âœ… ëŒ€ê¸° ì—…ë°ì´íŠ¸ ë¡œì§
19. âœ… í‘¸ì‹œ ì•Œë¦¼ êµ¬í˜„

### Phase 5: ìƒì„¸ í™”ë©´ & ë§ˆì´í˜ì´ì§€ (1ì¼)
20. âœ… ì‹œì„¤ ìƒì„¸ í™”ë©´
21. âœ… ì‹œê°„ëŒ€ë³„ ì°¨íŠ¸
22. âœ… ë§ˆì´í˜ì´ì§€
23. âœ… ì´ìš© ë‚´ì—­

### Phase 6: ìµœì í™” & ë°°í¬ (1ì¼)
24. âœ… ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ ì ê²€
25. âœ… ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
26. âœ… PWA ì„¤ì •
27. âœ… ì„±ëŠ¥ ìµœì í™”
28. âœ… Replit ë°°í¬

**ì´ ì˜ˆìƒ ê¸°ê°„: 7-8ì¼**

---

## 16. íŒŒì¼ êµ¬ì¡°
```
juleobnyang/
â”œâ”€â”€ client/                    # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â”œâ”€â”€ icon-192.png
â”‚   â”‚   â”œâ”€â”€ icon-512.png
â”‚   â”‚   â”œâ”€â”€ manifest.json
â”‚   â”‚   â””â”€â”€ sw.js
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/           # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ CongestionCard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CongestionBar.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ BottomNav.jsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”œâ”€â”€ Home.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ MyWaiting.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ FacilityDetail.jsx
â”‚   â”‚   â”‚   â””â”€â”€ MyPage.jsx
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useCongestion.js
â”‚   â”‚   â”‚   â”œâ”€â”€ useWaiting.js
â”‚   â”‚   â”‚   â””â”€â”€ useLocation.js
â”‚   â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”‚   â”œâ”€â”€ congestionSimulator.js
â”‚   â”‚   â”‚   â”œâ”€â”€ waitingQueue.js
â”‚   â”‚   â”‚   â””â”€â”€ helpers.js
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ server/                    # ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â””â”€â”€ facilities.json   # ì •ì  ë©”ë‰´ ë°ì´í„°
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README.md

17. ì£¼ìš” ëª…ë ¹ì–´
bash# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì„œë²„
cd client
npm install
npm run dev

# ë°±ì—”ë“œ ì„œë²„
cd server
npm install
npm start

# í”„ë¡œë•ì…˜ ë¹Œë“œ
cd client
npm run build

# ì „ì²´ ì‹¤í–‰ (Replitì—ì„œ)
npm start

18. ì¶”í›„ í™•ì¥ ê³„íš (Replit ì™¸ë¶€)
Phase 7: ì‹¤ì œ ë°ì´í„° ì—°ë™ (ì¶”í›„)

 fnb.hanyang.ac.kr í¬ë¡¤ë§ ì„œë²„ êµ¬ì¶•
 YOLO v11 Edge device êµ¬ì¶•
 ì‹¤ì œ CCTV RTSP ìŠ¤íŠ¸ë¦¼ ì—°ë™
 ì„œë²„ ì‚¬ì´ë“œ GPS ê²€ì¦
 í•œì–‘ëŒ€ SSO ì—°ë™


ì‚°ì¶œë¬¼ ìš”ì•½
âœ… ì™„ì „íˆ ì‘ë™í•˜ëŠ” ê¸°ëŠ¥

í”„ë¡ íŠ¸ì—”ë“œ: React ê¸°ë°˜ ëª¨ë°”ì¼ ì›¹ì•± (ëª¨ë“  í™”ë©´ ì™„ì„±)
í˜¼ì¡ë„ ì‹œê°í™”: 5ë‹¨ê³„ ì»¬ëŸ¬ ë°”, ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
ëŒ€ê¸° ì‹œìŠ¤í…œ: ë“±ë¡/ì¡°íšŒ/ì·¨ì†Œ/ì•Œë¦¼ ì „ì²´ í”Œë¡œìš°
GPS ì¸ì¦: í”„ë¡ íŠ¸ì—”ë“œ ê±°ë¦¬ ê³„ì‚°
ì‹¤ì‹œê°„ í†µì‹ : WebSocket ì—°ê²°
í†µê³„ ì°¨íŠ¸: Recharts ì‹œê°„ëŒ€ë³„ ì°¨íŠ¸
PWA: í™ˆ í™”ë©´ ì¶”ê°€, ì˜¤í”„ë¼ì¸ ì§€ì›

âš ï¸ ì‹œë®¬ë ˆì´ì…˜ (ì‹¤ì œ ì—°ë™ ëŒ€ê¸°)

ë©”ë‰´ ë°ì´í„°: ì •ì  JSON (í¬ë¡¤ë§ ëŒ€ê¸°)
í˜¼ì¡ë„: ì‹œê°„ëŒ€ íŒ¨í„´ + ëœë¤ (YOLO ëŒ€ê¸°)

âŒ ì œì™¸ (ì™¸ë¶€ ì‹œìŠ¤í…œ í•„ìš”)

YOLO ì‹¤ì‹œê°„ ì˜ìƒ ë¶„ì„
ì‹¤ì œ CCTV ì—°ë™
ë©”ë‰´ í¬ë¡¤ë§